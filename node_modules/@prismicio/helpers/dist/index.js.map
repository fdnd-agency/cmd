{"version":3,"file":"index.js","sources":["../src/asDate.ts","../src/documentToLinkField.ts","../src/asLink.ts","../src/asText.ts","../src/lib/serializerHelpers.ts","../src/asHTML.ts","../src/isFilled.ts","../src/asImageSrc.ts","../src/asImageWidthSrcSet.ts","../src/asImagePixelDensitySrcSet.ts","../src/index.ts"],"sourcesContent":["import type { DateField, TimestampField } from \"@prismicio/types\";\n\n/**\n * The return type of `asDate()`.\n */\ntype AsDateReturnType<\n\tField extends DateField | TimestampField | null | undefined,\n> = Field extends DateField<\"filled\"> | TimestampField<\"filled\"> ? Date : null;\n\n/**\n * Transforms a date or timestamp field into a JavaScript Date object\n *\n * @param dateOrTimestampField - A date or timestamp field from Prismic\n *\n * @returns A Date object, null if provided date is falsy\n * @see Templating date field from Prismic {@link https://prismic.io/docs/technologies/templating-date-field-javascript}\n */\nexport const asDate = <\n\tField extends DateField | TimestampField | null | undefined,\n>(\n\tdateOrTimestampField: Field,\n): AsDateReturnType<Field> => {\n\tif (!dateOrTimestampField) {\n\t\treturn null as AsDateReturnType<Field>;\n\t}\n\n\t// If field is a timestamp field...\n\tif (dateOrTimestampField.length === 24) {\n\t\t/**\n\t\t * Converts basic ISO 8601 to ECMAScript simplified ISO 8601 format for\n\t\t * browser compatibility issues\n\t\t *\n\t\t * From: YYYY-MM-DDTHH:mm:ssZ To: YYYY-MM-DDTHH:mm:ss.sssZ\n\t\t *\n\t\t * @see MDN documentation: {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date#timestamp_string}\n\t\t * @see ECMAScript 2020 language specification: {@link https://262.ecma-international.org/11.0/#sec-date-time-string-format}\n\t\t * @see Related forum issue: {@link https://community.prismic.io/t/prismics-date-api/2520}\n\t\t * @see Regex101 expression: {@link https://regex101.com/r/jxyETT/1}\n\t\t */\n\t\treturn new Date(\n\t\t\tdateOrTimestampField.replace(/(\\+|-)(\\d{2})(\\d{2})$/, \".000$1$2:$3\"),\n\t\t) as AsDateReturnType<Field>;\n\t} else {\n\t\t// ...else field is a date field\n\t\treturn new Date(dateOrTimestampField) as AsDateReturnType<Field>;\n\t}\n};\n","import {\n\tFilledLinkToDocumentField,\n\tLinkType,\n\tPrismicDocument,\n} from \"@prismicio/types\";\n\ntype SetOptional<T, Keys extends keyof T> = Omit<T, Keys> &\n\tPartial<Pick<T, Keys>>;\n\n/**\n * Converts a document into a link field, this is useful when crawling the API\n * for document links\n *\n * @typeParam TDocument - Specific interface of the provided document\n * @param prismicDocument - A document coming from Prismic\n *\n * @returns The equivalent link field to use with `asLink()`\n * @internal\n */\nexport const documentToLinkField = <\n\tTDocument extends SetOptional<PrismicDocument, \"slugs\">,\n>(\n\tprismicDocument: TDocument,\n): FilledLinkToDocumentField<\n\tTDocument[\"type\"],\n\tTDocument[\"lang\"],\n\tTDocument[\"data\"]\n> => {\n\treturn {\n\t\tlink_type: LinkType.Document,\n\t\tid: prismicDocument.id,\n\t\tuid: prismicDocument.uid ?? undefined,\n\t\ttype: prismicDocument.type,\n\t\ttags: prismicDocument.tags,\n\t\tlang: prismicDocument.lang,\n\t\turl: prismicDocument.url ?? undefined,\n\t\tslug: prismicDocument.slugs?.[0], // Slug field is not available with GraphQl\n\t\t// The REST API does not include a `data` property if the data\n\t\t// object is empty.\n\t\t//\n\t\t// A presence check for `prismicDocument.data` is done to\n\t\t// support partial documents. While `documentToLinkField` is\n\t\t// not typed to accept partial documents, passing a partial\n\t\t// document can happen in untyped projects.\n\t\t...(prismicDocument.data && Object.keys(prismicDocument.data).length > 0\n\t\t\t? { data: prismicDocument.data }\n\t\t\t: {}),\n\t};\n};\n","import {\n\tFilledLinkToDocumentField,\n\tFilledLinkToMediaField,\n\tFilledLinkToWebField,\n\tLinkField,\n\tLinkType,\n\tPrismicDocument,\n} from \"@prismicio/types\";\n\nimport { documentToLinkField } from \"./documentToLinkField\";\nimport { LinkResolverFunction } from \"./types\";\n\n/**\n * The return type of `asLink()`.\n */\ntype AsLinkReturnType<\n\tLinkResolverFunctionReturnType = string,\n\tField extends LinkField | PrismicDocument | null | undefined =\n\t\t| LinkField\n\t\t| PrismicDocument\n\t\t| null\n\t\t| undefined,\n> = Field extends\n\t| FilledLinkToWebField\n\t| FilledLinkToMediaField\n\t| FilledLinkToDocumentField\n\t| PrismicDocument\n\t? LinkResolverFunctionReturnType | string | null\n\t: null;\n\n/**\n * Resolves any type of link field or document to a URL\n *\n * @typeParam LinkResolverFunctionReturnType - Link resolver function return type\n * @param linkFieldOrDocument - Any kind of link field or a document to resolve\n * @param linkResolver - An optional link resolver function, without it you're\n *   expected to use the `routes` options from the API\n *\n * @returns Resolved URL, null if provided link is empty\n * @see Prismic link resolver documentation: {@link https://prismic.io/docs/technologies/link-resolver-javascript}\n * @see Prismic API `routes` options documentation: {@link https://prismic.io/docs/technologies/route-resolver-nuxtjs}\n */\nexport const asLink = <\n\tLinkResolverFunctionReturnType = string,\n\tField extends LinkField | PrismicDocument | null | undefined =\n\t\t| LinkField\n\t\t| PrismicDocument\n\t\t| null\n\t\t| undefined,\n>(\n\tlinkFieldOrDocument: Field,\n\tlinkResolver?: LinkResolverFunction<LinkResolverFunctionReturnType> | null,\n): AsLinkReturnType<LinkResolverFunctionReturnType, Field> => {\n\tif (!linkFieldOrDocument) {\n\t\treturn null as AsLinkReturnType<LinkResolverFunctionReturnType, Field>;\n\t}\n\n\t// Converts document to link field if needed\n\tconst linkField = (\n\t\t\"link_type\" in linkFieldOrDocument\n\t\t\t? linkFieldOrDocument\n\t\t\t: documentToLinkField(linkFieldOrDocument)\n\t) as LinkField;\n\n\tswitch (linkField.link_type) {\n\t\tcase LinkType.Media:\n\t\tcase LinkType.Web:\n\t\t\treturn (\"url\" in linkField ? linkField.url : null) as AsLinkReturnType<\n\t\t\t\tLinkResolverFunctionReturnType,\n\t\t\t\tField\n\t\t\t>;\n\n\t\tcase LinkType.Document: {\n\t\t\tif (\"id\" in linkField && linkResolver) {\n\t\t\t\t// When using Link Resolver...\n\t\t\t\tconst resolvedURL = linkResolver(linkField);\n\n\t\t\t\tif (resolvedURL != null) {\n\t\t\t\t\treturn resolvedURL as AsLinkReturnType<\n\t\t\t\t\t\tLinkResolverFunctionReturnType,\n\t\t\t\t\t\tField\n\t\t\t\t\t>;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\"url\" in linkField && linkField.url) {\n\t\t\t\t// When using Route Resolver...\n\t\t\t\treturn linkField.url as AsLinkReturnType<\n\t\t\t\t\tLinkResolverFunctionReturnType,\n\t\t\t\t\tField\n\t\t\t\t>;\n\t\t\t}\n\n\t\t\t// When empty or Link Resolver and Route Resolver are not used...\n\t\t\treturn null as AsLinkReturnType<LinkResolverFunctionReturnType, Field>;\n\t\t}\n\n\t\tcase LinkType.Any:\n\t\tdefault:\n\t\t\treturn null as AsLinkReturnType<LinkResolverFunctionReturnType, Field>;\n\t}\n};\n","import { asText as baseAsText } from \"@prismicio/richtext\";\nimport { RichTextField } from \"@prismicio/types\";\n\n/**\n * The return type of `asText()`.\n */\ntype AsTextReturnType<Field extends RichTextField | null | undefined> =\n\tField extends RichTextField ? string : null;\n\n/**\n * Serializes a rich text or title field to a plain text string\n *\n * @param richTextField - A rich text or title field from Prismic\n * @param separator - Separator used to join each element, defaults to a space\n *\n * @returns Plain text equivalent of the provided rich text or title field\n * @see Templating rich text and title fields from Prismic {@link https://prismic.io/docs/technologies/templating-rich-text-and-title-fields-javascript}\n */\nexport const asText = <Field extends RichTextField | null | undefined>(\n\trichTextField: Field,\n\tseparator?: string,\n): AsTextReturnType<Field> => {\n\tif (richTextField) {\n\t\treturn baseAsText(richTextField, separator) as AsTextReturnType<Field>;\n\t} else {\n\t\treturn null as AsTextReturnType<Field>;\n\t}\n};\n","import escapeHtml from \"escape-html\";\nimport {\n\tRTBlockNode,\n\tRTInlineNode,\n\tRTPreformattedNode,\n\tRTImageNode,\n\tRTEmbedNode,\n\tRTLinkNode,\n\tLinkType,\n\tRichTextNodeType,\n} from \"@prismicio/types\";\n\nimport { asLink } from \"../asLink\";\nimport { LinkResolverFunction } from \"../types\";\n\nexport const getLabel = (node: RTBlockNode | RTInlineNode): string => {\n\treturn \"data\" in node && \"label\" in node.data\n\t\t? ` class=\"${node.data.label}\"`\n\t\t: \"\";\n};\n\nexport const serializeStandardTag = (\n\ttag: string,\n\tnode: RTBlockNode | RTInlineNode,\n\tchildren: string[],\n): string => {\n\treturn `<${tag}${getLabel(node)}>${children.join(\"\")}</${tag}>`;\n};\n\nexport const serializePreFormatted = (node: RTPreformattedNode): string => {\n\treturn `<pre${getLabel(node)}>${escapeHtml(node.text)}</pre>`;\n};\n\nexport const serializeImage = (\n\tlinkResolver: LinkResolverFunction<string> | undefined | null,\n\tnode: RTImageNode,\n): string => {\n\tlet imageTag = `<img src=\"${node.url}\" alt=\"${escapeHtml(node.alt)}\"${\n\t\tnode.copyright ? ` copyright=\"${escapeHtml(node.copyright)}\"` : \"\"\n\t} />`;\n\n\t// If the image has a link, we wrap it with an anchor tag\n\tif (node.linkTo) {\n\t\timageTag = serializeHyperlink(\n\t\t\tlinkResolver,\n\t\t\t{\n\t\t\t\ttype: RichTextNodeType.hyperlink,\n\t\t\t\tdata: node.linkTo,\n\t\t\t\tstart: 0,\n\t\t\t\tend: 0,\n\t\t\t},\n\t\t\t[imageTag],\n\t\t);\n\t}\n\n\treturn `<p class=\"block-img\">${imageTag}</p>`;\n};\n\nexport const serializeEmbed = (node: RTEmbedNode): string => {\n\treturn `<div data-oembed=\"${node.oembed.embed_url}\" data-oembed-type=\"${\n\t\tnode.oembed.type\n\t}\" data-oembed-provider=\"${node.oembed.provider_name}\"${getLabel(node)}>${\n\t\tnode.oembed.html\n\t}</div>`;\n};\n\nexport const serializeHyperlink = (\n\tlinkResolver: LinkResolverFunction | undefined | null,\n\tnode: RTLinkNode,\n\tchildren: string[],\n): string => {\n\tswitch (node.data.link_type) {\n\t\tcase LinkType.Web: {\n\t\t\treturn `<a href=\"${escapeHtml(node.data.url)}\" target=\"${\n\t\t\t\tnode.data.target\n\t\t\t}\" rel=\"noopener noreferrer\"${getLabel(node)}>${children.join(\"\")}</a>`;\n\t\t}\n\n\t\tcase LinkType.Document: {\n\t\t\treturn `<a href=\"${asLink(node.data, linkResolver)}\"${getLabel(\n\t\t\t\tnode,\n\t\t\t)}>${children.join(\"\")}</a>`;\n\t\t}\n\n\t\tcase LinkType.Media: {\n\t\t\treturn `<a href=\"${node.data.url}\"${getLabel(node)}>${children.join(\n\t\t\t\t\"\",\n\t\t\t)}</a>`;\n\t\t}\n\t}\n};\n\nexport const serializeSpan = (content?: string): string => {\n\treturn content ? escapeHtml(content).replace(/\\n/g, \"<br />\") : \"\";\n};\n","import {\n\tserialize,\n\tElement,\n\tcomposeSerializers,\n\tRichTextFunctionSerializer,\n\tRichTextMapSerializer,\n\twrapMapSerializer,\n} from \"@prismicio/richtext\";\nimport { RichTextField } from \"@prismicio/types\";\n\nimport {\n\tserializeStandardTag,\n\tserializePreFormatted,\n\tserializeImage,\n\tserializeEmbed,\n\tserializeHyperlink,\n\tserializeSpan,\n} from \"./lib/serializerHelpers\";\nimport {\n\tHTMLFunctionSerializer,\n\tHTMLMapSerializer,\n\tLinkResolverFunction,\n} from \"./types\";\n\n/**\n * Creates a default HTML serializer with a given Link Resolver providing\n * sensible and safe defaults for every node type\n *\n * @internal\n */\nconst createDefaultHTMLSerializer = (\n\tlinkResolver: LinkResolverFunction<string> | undefined | null,\n): RichTextFunctionSerializer<string> => {\n\treturn (_type, node, text, children, _key) => {\n\t\tswitch (node.type) {\n\t\t\tcase Element.heading1:\n\t\t\t\treturn serializeStandardTag(\"h1\", node, children);\n\t\t\tcase Element.heading2:\n\t\t\t\treturn serializeStandardTag(\"h2\", node, children);\n\t\t\tcase Element.heading3:\n\t\t\t\treturn serializeStandardTag(\"h3\", node, children);\n\t\t\tcase Element.heading4:\n\t\t\t\treturn serializeStandardTag(\"h4\", node, children);\n\t\t\tcase Element.heading5:\n\t\t\t\treturn serializeStandardTag(\"h5\", node, children);\n\t\t\tcase Element.heading6:\n\t\t\t\treturn serializeStandardTag(\"h6\", node, children);\n\t\t\tcase Element.paragraph:\n\t\t\t\treturn serializeStandardTag(\"p\", node, children);\n\t\t\tcase Element.preformatted:\n\t\t\t\treturn serializePreFormatted(node);\n\t\t\tcase Element.strong:\n\t\t\t\treturn serializeStandardTag(\"strong\", node, children);\n\t\t\tcase Element.em:\n\t\t\t\treturn serializeStandardTag(\"em\", node, children);\n\t\t\tcase Element.listItem:\n\t\t\t\treturn serializeStandardTag(\"li\", node, children);\n\t\t\tcase Element.oListItem:\n\t\t\t\treturn serializeStandardTag(\"li\", node, children);\n\t\t\tcase Element.list:\n\t\t\t\treturn serializeStandardTag(\"ul\", node, children);\n\t\t\tcase Element.oList:\n\t\t\t\treturn serializeStandardTag(\"ol\", node, children);\n\t\t\tcase Element.image:\n\t\t\t\treturn serializeImage(linkResolver, node);\n\t\t\tcase Element.embed:\n\t\t\t\treturn serializeEmbed(node);\n\t\t\tcase Element.hyperlink:\n\t\t\t\treturn serializeHyperlink(linkResolver, node, children);\n\t\t\tcase Element.label:\n\t\t\t\treturn serializeStandardTag(\"span\", node, children);\n\t\t\tcase Element.span:\n\t\t\tdefault:\n\t\t\t\treturn serializeSpan(text);\n\t\t}\n\t};\n};\n\n/**\n * Wraps a map serializer into a regular function serializer. The given map\n * serializer should accept children as a string, not as an array of strings\n * like `@prismicio/richtext`'s `wrapMapSerializer`.\n *\n * @param mapSerializer - Map serializer to wrap\n *\n * @returns A regular function serializer\n */\nconst wrapMapSerializerWithStringChildren = (\n\tmapSerializer: HTMLMapSerializer,\n): RichTextFunctionSerializer<string> => {\n\tconst modifiedMapSerializer = {} as RichTextMapSerializer<string>;\n\n\tfor (const tag in mapSerializer) {\n\t\tconst tagSerializer = mapSerializer[tag as keyof typeof mapSerializer];\n\n\t\tif (tagSerializer) {\n\t\t\tmodifiedMapSerializer[tag as keyof typeof mapSerializer] = (payload) => {\n\t\t\t\treturn tagSerializer({\n\t\t\t\t\t...payload,\n\t\t\t\t\t// @ts-expect-error - merging blockSerializer types causes TS to bail to a never type\n\t\t\t\t\tchildren: payload.children.join(\"\"),\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t}\n\n\treturn wrapMapSerializer(modifiedMapSerializer);\n};\n\n/**\n * The return type of `asHTML()`.\n */\ntype AsHTMLReturnType<Field extends RichTextField | null | undefined> =\n\tField extends RichTextField ? string : null;\n\n/**\n * Serializes a rich text or title field to an HTML string\n *\n * @param richTextField - A rich text or title field from Prismic\n * @param linkResolver - An optional link resolver function to resolve links,\n *   without it you're expected to use the `routes` options from the API\n * @param htmlSerializer - An optional serializer, unhandled cases will fallback\n *   to the default serializer\n *\n * @returns HTML equivalent of the provided rich text or title field\n * @see Templating rich text and title fields from Prismic {@link https://prismic.io/docs/technologies/templating-rich-text-and-title-fields-javascript}\n */\nexport const asHTML = <Field extends RichTextField | null | undefined>(\n\trichTextField: Field,\n\tlinkResolver?: LinkResolverFunction<string> | null,\n\thtmlSerializer?: HTMLFunctionSerializer | HTMLMapSerializer | null,\n): AsHTMLReturnType<Field> => {\n\tif (richTextField) {\n\t\tlet serializer: RichTextFunctionSerializer<string>;\n\t\tif (htmlSerializer) {\n\t\t\tserializer = composeSerializers(\n\t\t\t\ttypeof htmlSerializer === \"object\"\n\t\t\t\t\t? wrapMapSerializerWithStringChildren(htmlSerializer)\n\t\t\t\t\t: (type, node, text, children, key) =>\n\t\t\t\t\t\t\thtmlSerializer(type, node, text, children.join(\"\"), key),\n\t\t\t\tcreateDefaultHTMLSerializer(linkResolver),\n\t\t\t);\n\t\t} else {\n\t\t\tserializer = createDefaultHTMLSerializer(linkResolver);\n\t\t}\n\n\t\treturn serialize(richTextField, serializer).join(\n\t\t\t\"\",\n\t\t) as AsHTMLReturnType<Field>;\n\t} else {\n\t\treturn null as AsHTMLReturnType<Field>;\n\t}\n};\n","import type {\n\tAnyOEmbed,\n\tAnyRegularField,\n\tColorField,\n\tDateField,\n\tEmbedField,\n\tGeoPointField,\n\tGroupField,\n\tImageField,\n\tImageFieldImage,\n\tIntegrationFields,\n\tKeyTextField,\n\tLinkField,\n\tLinkToMediaField,\n\tNumberField,\n\tRelationField,\n\tRichTextField,\n\tSelectField,\n\tSharedSlice,\n\tSlice,\n\tSliceZone,\n\tTimestampField,\n\tTitleField,\n} from \"@prismicio/types\";\n\n/**\n * Determines if a value is not nullish (i.e. not `null` or `undefined`). This\n * is used to check if nullable field values are filled.\n *\n * @param input - The value to check.\n *\n * @returns `true` if `input` is not nullish, `false` otherwise.\n */\nconst isNonNullish = <T>(input: T): input is NonNullable<T> => {\n\treturn input != null;\n};\n\n/**\n * Determines if an array is not empty. This is used to check if array-based\n * fields are filled.\n *\n * @param input - The array to check.\n *\n * @returns `true` if `input` has at least one element, `false` otherwise.\n */\nconst isNonEmptyArray = <T>(input: T[]): input is [T, ...T[]] => {\n\treturn !!input.length;\n};\n\n/**\n * Determines if a Rich Text field is filled.\n *\n * @param field - Rich Text field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const richText = (\n\tfield: RichTextField | null | undefined,\n): field is RichTextField<\"filled\"> => {\n\tif (!isNonNullish(field)) {\n\t\treturn false;\n\t} else if (field.length === 1 && \"text\" in field[0]) {\n\t\treturn !!field[0].text;\n\t} else {\n\t\treturn !!field.length;\n\t}\n};\n\n/**\n * Determines if a Title field is filled.\n *\n * @param field - Title field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const title = richText as (\n\tfield: TitleField | null | undefined,\n) => field is TitleField<\"filled\">;\n\n/**\n * Determines if an Image thumbnail is filled.\n *\n * @param thumbnail - Image thumbnail to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const imageThumbnail = (\n\tthumbnail: ImageFieldImage | null | undefined,\n): thumbnail is ImageFieldImage<\"filled\"> => {\n\treturn isNonNullish(thumbnail) && !!thumbnail.url;\n};\n\n/**\n * Determines if an Image field is filled.\n *\n * @param field - Image field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const image = imageThumbnail as <\n\tField extends ImageField,\n\tThumbnailNames extends Exclude<\n\t\tkeyof Field,\n\t\tkeyof ImageFieldImage | number | symbol\n\t>,\n>(\n\tfield: Field | ImageField<ThumbnailNames> | null | undefined,\n) => field is ImageField<ThumbnailNames, \"filled\">;\n\n/**\n * Determines if a Link field is filled.\n *\n * @param field - Link field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const link = <\n\tTypeEnum = string,\n\tLangEnum = string,\n\tDataInterface extends Record<\n\t\tstring,\n\t\tAnyRegularField | GroupField | SliceZone\n\t> = never,\n>(\n\tfield: LinkField<TypeEnum, LangEnum, DataInterface> | null | undefined,\n): field is LinkField<TypeEnum, LangEnum, DataInterface, \"filled\"> => {\n\treturn isNonNullish(field) && (\"id\" in field || \"url\" in field);\n};\n\n/**\n * Determines if a Link to Media field is filled.\n *\n * @param field - Link to Media field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const linkToMedia = link as (\n\tfield: LinkToMediaField | null | undefined,\n) => field is LinkToMediaField<\"filled\">;\n\n/**\n * Determines if a Content Relationship field is filled.\n *\n * @param field - Content Relationship field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const contentRelationship = link as <\n\tTypeEnum = string,\n\tLangEnum = string,\n\tDataInterface extends Record<\n\t\tstring,\n\t\tAnyRegularField | GroupField | SliceZone\n\t> = never,\n>(\n\tfield: RelationField<TypeEnum, LangEnum, DataInterface> | null | undefined,\n) => field is RelationField<TypeEnum, LangEnum, DataInterface, \"filled\">;\n\n/**\n * Determines if a Date field is filled.\n *\n * @param field - Date field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const date = isNonNullish as (\n\tfield: DateField | null | undefined,\n) => field is DateField<\"filled\">;\n\n/**\n * Determines if a Timestamp field is filled.\n *\n * @param field - Timestamp field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const timestamp = isNonNullish as (\n\tfield: TimestampField | null | undefined,\n) => field is TimestampField<\"filled\">;\n\n/**\n * Determines if a Color field is filled.\n *\n * @param field - Color field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const color = isNonNullish as (\n\tfield: ColorField | null | undefined,\n) => field is ColorField<\"filled\">;\n\n/**\n * Determines if a Number field is filled.\n *\n * @param field - Number field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const number = isNonNullish as (\n\tfield: NumberField | null | undefined,\n) => field is NumberField<\"filled\">;\n\n/**\n * Determines if a Key Text field is filled.\n *\n * @param field - Key Text field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const keyText = (\n\tfield: KeyTextField | null | undefined,\n): field is KeyTextField<\"filled\"> => {\n\treturn isNonNullish(keyText) && !!field;\n};\n\n/**\n * Determines if a Select field is filled.\n *\n * @param field - Select field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const select = isNonNullish as <Enum extends string>(\n\tfield: SelectField<Enum> | null | undefined,\n) => field is SelectField<Enum, \"filled\">;\n\n/**\n * Determines if an Embed field is filled.\n *\n * @param field - Embed field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const embed = <Field extends EmbedField<AnyOEmbed>>(\n\tfield:\n\t\t| (Field extends EmbedField<infer Data> ? EmbedField<Data> : never)\n\t\t| null\n\t\t| undefined,\n): field is Field extends EmbedField<infer Data>\n\t? EmbedField<Data, \"filled\">\n\t: never => {\n\treturn isNonNullish(field) && !!field.embed_url;\n};\n\n/**\n * Determines if a GeoPoint field is filled.\n *\n * @param field - GeoPoint field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const geoPoint = (\n\tfield: GeoPointField | null | undefined,\n): field is GeoPointField<\"filled\"> => {\n\treturn isNonNullish(field) && \"longitude\" in field;\n};\n\n/**\n * Determines if an Integration Fields field is filled.\n *\n * @param field - Integration Fields field to check.\n *\n * @returns `true` if `field` is filled, `false` otherwise.\n */\nexport const integrationFields = isNonNullish as <\n\tData extends Record<string, unknown>,\n>(\n\tfield: IntegrationFields<Data> | null | undefined,\n) => field is IntegrationFields<Data, \"filled\">;\n\n/**\n * Determines if a Group has at least one item.\n *\n * @param group - Group to check.\n *\n * @returns `true` if `group` contains at least one item, `false` otherwise.\n */\nexport const group = <Fields extends Record<string, AnyRegularField>>(\n\tgroup: GroupField<Fields> | null | undefined,\n): group is GroupField<Fields, \"filled\"> => {\n\treturn isNonNullish(group) && isNonEmptyArray(group);\n};\n\n/**\n * Determines if a Slice Zone has at least one Slice.\n *\n * @param slices - Slice Zone to check.\n *\n * @returns `true` if `slices` contains at least one Slice, `false` otherwise.\n */\nexport const sliceZone = <Slices extends Slice | SharedSlice>(\n\tslices: SliceZone<Slices> | null | undefined,\n): slices is SliceZone<Slices, \"filled\"> => {\n\treturn isNonNullish(slices) && isNonEmptyArray(slices);\n};\n","import { ImageFieldImage } from \"@prismicio/types\";\nimport { buildURL, ImgixURLParams } from \"imgix-url-builder\";\n\nimport { imageThumbnail as isImageThumbnailFilled } from \"./isFilled\";\n\n/**\n * The return type of `asImageSrc()`.\n */\ntype AsImageSrcReturnType<Field extends ImageFieldImage | null | undefined> =\n\tField extends ImageFieldImage<\"filled\"> ? string : null;\n\n/**\n * Returns the URL of an Image field with optional image transformations (via\n * Imgix URL parameters).\n *\n * @example\n *\n * ```ts\n * const src = asImageSrc(document.data.imageField, { sat: -100 });\n * // => https://images.prismic.io/repo/image.png?sat=-100\n * ```\n *\n * @param field - Image field (or one of its responsive views) from which to get\n *   an image URL.\n * @param params - An object of Imgix URL API parameters to transform the image.\n *\n * @returns The Image field's image URL with transformations applied (if given).\n *   If the Image field is empty, `null` is returned.\n * @see Imgix URL parameters reference: https://docs.imgix.com/apis/rendering\n */\nexport const asImageSrc = <Field extends ImageFieldImage | null | undefined>(\n\tfield: Field,\n\tparams: ImgixURLParams = {},\n): AsImageSrcReturnType<Field> => {\n\tif (field && isImageThumbnailFilled(field)) {\n\t\treturn buildURL(field.url, params) as AsImageSrcReturnType<Field>;\n\t} else {\n\t\treturn null as AsImageSrcReturnType<Field>;\n\t}\n};\n","import { ImageFieldImage } from \"@prismicio/types\";\nimport {\n\tbuildURL,\n\tbuildWidthSrcSet,\n\tBuildWidthSrcSetParams,\n} from \"imgix-url-builder\";\n\nimport { imageThumbnail as isImageThumbnailFilled } from \"./isFilled\";\n\n/**\n * The default widths used to generate a `srcset` value.\n */\nconst DEFAULT_WIDTHS = [640, 828, 1200, 2048, 3840];\n\n/**\n * The return type of `asImageWidthSrcSet()`.\n */\ntype AsImageWidthSrcSetReturnType<\n\tField extends ImageFieldImage | null | undefined,\n> = Field extends ImageFieldImage<\"filled\">\n\t? {\n\t\t\t/**\n\t\t\t * The Image field's image URL with Imgix URL parameters (if given).\n\t\t\t */\n\t\t\tsrc: string;\n\n\t\t\t/**\n\t\t\t * A width-based `srcset` attribute value for the Image field's image with\n\t\t\t * Imgix URL parameters (if given).\n\t\t\t */\n\t\t\tsrcset: string;\n\t  }\n\t: null;\n\n/**\n * Configuration for `asImageWidthSrcSet()`.\n */\ntype AsImageWidthSrcSetConfig = Omit<BuildWidthSrcSetParams, \"widths\"> & {\n\twidths?: \"thumbnails\" | BuildWidthSrcSetParams[\"widths\"];\n};\n\n/**\n * Creates a width-based `srcset` from an Image field with optional image\n * transformations (via Imgix URL parameters).\n *\n * If a `widths` parameter is not given, the following widths will be used by\n * default: 640, 750, 828, 1080, 1200, 1920, 2048, 3840.\n *\n * If the Image field contains responsive views, each responsive view can be\n * used as a width in the resulting `srcset` by passing `\"thumbnails\"` as the\n * `widths` parameter.\n *\n * @example\n *\n * ```ts\n * const srcset = asImageWidthSrcSet(document.data.imageField, {\n * \twidths: [400, 800, 1600],\n * \tsat: -100,\n * });\n * // => {\n * //   src:    'https://images.prismic.io/repo/image.png?sat=-100',\n * //   srcset: 'https://images.prismic.io/repo/image.png?sat=-100&width=400 400w, ' +\n * //           'https://images.prismic.io/repo/image.png?sat=-100&width=800 800w,' +\n * //           'https://images.prismic.io/repo/image.png?sat=-100&width=1600 1600w'\n * // }\n * ```\n *\n * @param field - Image field (or one of its responsive views) from which to get\n *   an image URL.\n * @param params - An object of Imgix URL API parameters. The `widths` parameter\n *   defines the resulting `srcset` widths. Pass `\"thumbnails\"` to automatically\n *   use the field's responsive views.\n *\n * @returns A `srcset` attribute value for the Image field with Imgix URL\n *   parameters (if given). If the Image field is empty, `null` is returned.\n * @see Imgix URL parameters reference: https://docs.imgix.com/apis/rendering\n */\nexport const asImageWidthSrcSet = <\n\tField extends ImageFieldImage | null | undefined,\n>(\n\tfield: Field,\n\tparams: AsImageWidthSrcSetConfig = {},\n): AsImageWidthSrcSetReturnType<Field> => {\n\tif (field && isImageThumbnailFilled(field)) {\n\t\t// We are using destructuring to omit `widths` from the object\n\t\t// we will pass to `buildURL()`.\n\t\tlet {\n\t\t\twidths = DEFAULT_WIDTHS,\n\t\t\t// eslint-disable-next-line prefer-const\n\t\t\t...imgixParams\n\t\t} = params;\n\t\tconst {\n\t\t\turl,\n\t\t\tdimensions,\n\t\t\talt: _alt,\n\t\t\tcopyright: _copyright,\n\t\t\t...responsiveViews\n\t\t} = field;\n\n\t\t// The Prismic Rest API will always return thumbnail values if\n\t\t// the base size is filled.\n\t\tconst responsiveViewObjects: ImageFieldImage<\"filled\">[] =\n\t\t\tObject.values(responsiveViews);\n\n\t\t// If this `asImageWidthSrcSet()` call is configured to use\n\t\t// thumbnail widths, but the field does not have thumbnails, we\n\t\t// fall back to the default set of widths.\n\t\tif (widths === \"thumbnails\" && responsiveViewObjects.length < 1) {\n\t\t\twidths = DEFAULT_WIDTHS;\n\t\t}\n\n\t\treturn {\n\t\t\tsrc: buildURL(url, imgixParams),\n\t\t\tsrcset:\n\t\t\t\t// By this point, we know `widths` can only be\n\t\t\t\t// `\"thubmanils\"` if the field has thumbnails.\n\t\t\t\twidths === \"thumbnails\"\n\t\t\t\t\t? [\n\t\t\t\t\t\t\tbuildWidthSrcSet(url, {\n\t\t\t\t\t\t\t\t...imgixParams,\n\t\t\t\t\t\t\t\twidths: [dimensions.width],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t...responsiveViewObjects.map((thumbnail) => {\n\t\t\t\t\t\t\t\treturn buildWidthSrcSet(thumbnail.url, {\n\t\t\t\t\t\t\t\t\t...imgixParams,\n\t\t\t\t\t\t\t\t\twidths: [thumbnail.dimensions.width],\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t  ].join(\", \")\n\t\t\t\t\t: buildWidthSrcSet(field.url, {\n\t\t\t\t\t\t\t...imgixParams,\n\t\t\t\t\t\t\twidths,\n\t\t\t\t\t  }),\n\t\t} as AsImageWidthSrcSetReturnType<Field>;\n\t} else {\n\t\treturn null as AsImageWidthSrcSetReturnType<Field>;\n\t}\n};\n","import { ImageFieldImage } from \"@prismicio/types\";\nimport {\n\tbuildPixelDensitySrcSet,\n\tBuildPixelDensitySrcSetParams,\n\tbuildURL,\n} from \"imgix-url-builder\";\n\nimport { imageThumbnail as isImageThumbnailFilled } from \"./isFilled\";\n\n/**\n * The default pixel densities used to generate a `srcset` value.\n */\nconst DEFAULT_PIXEL_DENSITIES = [1, 2, 3];\n\n/**\n * Configuration for `asImagePixelDensitySrcSet()`.\n */\ntype AsImagePixelDensitySrcSetConfig = Omit<\n\tBuildPixelDensitySrcSetParams,\n\t\"pixelDensities\"\n> &\n\tPartial<Pick<BuildPixelDensitySrcSetParams, \"pixelDensities\">>;\n\n/**\n * The return type of `asImagePixelDensitySrcSet()`.\n */\ntype AsImagePixelDensitySrcSetReturnType<\n\tField extends ImageFieldImage | null | undefined,\n> = Field extends ImageFieldImage<\"filled\">\n\t? {\n\t\t\t/**\n\t\t\t * The Image field's image URL with Imgix URL parameters (if given).\n\t\t\t */\n\t\t\tsrc: string;\n\n\t\t\t/**\n\t\t\t * A pixel-densitye-based `srcset` attribute value for the Image field's\n\t\t\t * image with Imgix URL parameters (if given).\n\t\t\t */\n\t\t\tsrcset: string;\n\t  }\n\t: null;\n\n/**\n * Creates a pixel-density-based `srcset` from an Image field with optional\n * image transformations (via Imgix URL parameters).\n *\n * If a `pixelDensities` parameter is not given, the following pixel densities\n * will be used by default: 1, 2, 3.\n *\n * @example\n *\n * ```ts\n * const srcset = asImagePixelDensitySrcSet(document.data.imageField, {\n * \tpixelDensities: [1, 2],\n * \tsat: -100,\n * });\n * // => {\n * //   src:    'https://images.prismic.io/repo/image.png?sat=-100',\n * //   srcset: 'https://images.prismic.io/repo/image.png?sat=-100&dpr=1 1x, ' +\n * //           'https://images.prismic.io/repo/image.png?sat=-100&dpr=2 2x'\n * // }\n * ```\n *\n * @param field - Image field (or one of its responsive views) from which to get\n *   an image URL.\n * @param params - An object of Imgix URL API parameters. The `pixelDensities`\n *   parameter defines the resulting `srcset` widths.\n *\n * @returns A `srcset` attribute value for the Image field with Imgix URL\n *   parameters (if given). If the Image field is empty, `null` is returned.\n * @see Imgix URL parameters reference: https://docs.imgix.com/apis/rendering\n */\nexport const asImagePixelDensitySrcSet = <\n\tField extends ImageFieldImage | null | undefined,\n>(\n\tfield: Field,\n\tparams: AsImagePixelDensitySrcSetConfig = {},\n): AsImagePixelDensitySrcSetReturnType<Field> => {\n\tif (field && isImageThumbnailFilled(field)) {\n\t\t// We are using destructuring to omit `pixelDensities` from the\n\t\t// object we will pass to `buildURL()`.\n\t\tconst { pixelDensities = DEFAULT_PIXEL_DENSITIES, ...imgixParams } = params;\n\n\t\treturn {\n\t\t\tsrc: buildURL(field.url, imgixParams),\n\t\t\tsrcset: buildPixelDensitySrcSet(field.url, {\n\t\t\t\t...imgixParams,\n\t\t\t\tpixelDensities,\n\t\t\t}),\n\t\t} as AsImagePixelDensitySrcSetReturnType<Field>;\n\t} else {\n\t\treturn null as AsImagePixelDensitySrcSetReturnType<Field>;\n\t}\n};\n","export { asDate } from \"./asDate\";\nexport { asLink } from \"./asLink\";\nexport { asText } from \"./asText\";\nexport { asHTML } from \"./asHTML\";\nexport { asImageSrc } from \"./asImageSrc\";\nexport { asImageWidthSrcSet } from \"./asImageWidthSrcSet\";\nexport { asImagePixelDensitySrcSet } from \"./asImagePixelDensitySrcSet\";\nexport * as isFilled from \"./isFilled\";\n\nexport { documentToLinkField } from \"./documentToLinkField\";\n\nimport { Element } from \"@prismicio/richtext\";\nexport { Element };\n/**\n * @deprecated Renamed to `Element` (without an \"s\").\n */\n// TODO: Remove in v3.\nexport const Elements = Element;\n\nexport type {\n\tLinkResolverFunction,\n\tHTMLFunctionSerializer,\n\tHTMLMapSerializer,\n} from \"./types\";\n"],"names":["baseAsText","isImageThumbnailFilled"],"mappings":"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"}